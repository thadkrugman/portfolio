---
interface Props {
  variant: "default" | "backdrop";
  color: "primary" | "accent" | "content" | "white";
  href: string;
}

const { variant, color, href } = Astro.props;

const defaultClasses = {
  primary:
    "bg-base-color border-primary text-primary hover:bg-primary hover:text-content",
  accent:
    "bg-base-color border-accent text-accent hover:bg-accent hover:text-base-color",
  content:
    "bg-primary border-content text-content hover:bg-content hover:text-primary",
  white:
    "bg-base-color border-white text-white hover:bg-white hover:text-base-color",
};

const backdropClasses = {
  primary: "bg-base-color border-primary text-primary",
  accent: "bg-base-color border-accent text-accent",
  content: "bg-primary border-content text-content",
  white: "bg-base-color border-white text-white",
};
---

<div
  class={`${variant === "default" ? "" : `backdrop-${color}`} relative inline-block`}
>
  <a
    href={href}
    class={`${variant === "default" ? defaultClasses[color] : backdropClasses[color]} text-xs font-bold py-3 px-16 border flex w-fit ease-in-out duration-200 transition relative z-10`}
  >
    <slot />
  </a>
</div>

<style>
  .backdrop-primary,
  .backdrop-accent,
  .backdrop-content,
  .backdrop-white {
    position: relative;
  }

  .backdrop-primary::before,
  .backdrop-accent::before,
  .backdrop-content::before,
  .backdrop-white::before {
    content: "";
    position: absolute;
    top: 3px;
    left: 3px;
    width: 100%;
    height: 100%;
    opacity: 1;
    transition: transform 0.2s;
    z-index: 1;
  }

  .backdrop-primary::before {
    background-color: var(--primary);
  }

  .backdrop-accent::before {
    background-color: var(--accent);
  }

  .backdrop-content::before {
    background-color: var(--content);
  }

  .backdrop-white::before {
    background-color: #ffffff;
  }

  .backdrop-primary:hover::before,
  .backdrop-accent:hover::before,
  .backdrop-content:hover::before,
  .backdrop-white:hover::before {
    @apply translate-x-0.5 translate-y-0.5;
  }
</style>
